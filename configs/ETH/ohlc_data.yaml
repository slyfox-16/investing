# Logical asset identifier for this OHLC config.
asset: ETH

pipeline:
  # Historical start timestamp for Chainlink backfill.
  start: "2025-02-22"
  # Re-pull this many hours behind latest saved ts_hour on incremental updates.
  update_overlap_hours: 6
  # Base directory for pipeline outputs.
  data_dir: "data"
  storage:
    # Target persistence backend for hourly OHLC output.
    backend: "postgres"
    # Prefix for DB env vars: <PREFIX>_HOST/_PORT/_DB/_USER/_PASSWORD.
    db_env_prefix: "INVESTING_PG"
    schema: "public"
    table: "eth_ohlc_hourly"
  outputs:
    chainlink_raw: "eth_chainlink_rounds.parquet"
    ohlc_hourly: "eth_ohlc_hourly.parquet"

sources:
  chainlink:
    # Ethereum RPC endpoint for Chainlink reads. Supports env-var expansion.
    rpc_url: "${INFURA_HTTP}"
    # Chainlink feed proxy contract address for ETH/USD.
    feed: "0x5f4ec3df9cbd43714fe2740f5e3616155c5b8419"
    # Gap threshold (seconds) used to set is_gap in hourly output.
    max_staleness_sec: 7200
